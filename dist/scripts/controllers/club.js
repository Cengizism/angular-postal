define(["controllers/controllers","config"],function(e,t){e.controller("club",["$scope","Players",function(e,n){e.positions=t.app.positions,e.player={},e.players=[];var r=e.$bus.channel("players");r.publish({topic:"player.list",data:{callback:function(t){e.players=t}}}),e.savePlayer=function(t){r.publish({channel:"players",topic:"player.save",data:{player:t,callback:function(t){e.players=t}}}),e.player={}},e.deletePlayer=function(t){r.publish({channel:"players",topic:"player.delete",data:{id:t,callback:function(t){e.players=t}}})},e.editPlayer=function(t){e.player=angular.extend({},t)},e.clearForm=function(){e.player={}},e.promised="Loading promised..",r.request({topic:"last.login",data:{userId:8675309},timeout:5e3}).then(function(t){e.promised="Last login for userId: "+t.userId+" occurred on "+t.time},function(t){e.promised="Uh oh! Error: "+t})}])});